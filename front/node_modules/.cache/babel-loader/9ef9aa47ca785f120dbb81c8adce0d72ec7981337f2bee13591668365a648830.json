{"ast":null,"code":"import React,{useState}from'react';import'./PreRegistrationForm.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PreRegistrationForm(){const[email,setEmail]=useState('');const[phone,setPhone]=useState('');const[privacyConsent,setPrivacyConsent]=useState(false);const handlePhoneChange=e=>{const value=e.target.value.replace(/[^\\d]/g,'');if(value.length<=11){setPhone(value);}};const handleSubmit=async e=>{e.preventDefault();if(!privacyConsent){alert('개인정보 수집 및 이용에 동의해주세요.');return;}if(phone.length!==11){alert('전화번호를 11자리로 입력해주세요.');return;}try{const response=await fetch('http://localhost:8000/api/preregister',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,phone,privacy_consent:privacyConsent})});if(response.ok){const data=await response.json();alert(`${data.message} 등록 시간: ${new Date(data.created_at).toLocaleString()}`);setEmail('');setPhone('');setPrivacyConsent(false);}else{const errorData=await response.json();alert(`오류: ${errorData.detail}`);}}catch(error){console.error('Error:',error);alert('사전 등록 중 오류가 발생했습니다.');}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"pre-registration-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:phone,onChange:handlePhoneChange,placeholder:\"\\uC804\\uD654\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694 (\\uC22B\\uC790 11\\uC790\\uB9AC)\",pattern:\"[0-9]{11}\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uC0AC\\uC804\\uB4F1\\uB85D\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"privacy-agreement\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"privacyConsent\",checked:privacyConsent,onChange:e=>setPrivacyConsent(e.target.checked),required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"privacyConsent\",children:\"\\uAC1C\\uC778\\uC815\\uBCF4 \\uC218\\uC9D1 \\uBC0F \\uC774\\uC6A9\\uC5D0 \\uB3D9\\uC758\\uD569\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"privacy-policy\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uAC1C\\uC778\\uC815\\uBCF4 \\uCC98\\uB9AC\\uBC29\\uCE68\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"1. \\uC218\\uC9D1\\uD558\\uB294 \\uAC1C\\uC778\\uC815\\uBCF4 \\uD56D\\uBAA9: \\uC774\\uBA54\\uC77C \\uC8FC\\uC18C, \\uC804\\uD654\\uBC88\\uD638\",/*#__PURE__*/_jsx(\"br\",{}),\"2. \\uC218\\uC9D1 \\uBC0F \\uC774\\uC6A9\\uBAA9\\uC801: \\uAC8C\\uC784 \\uC0AC\\uC804\\uC608\\uC57D \\uBC0F \\uAD00\\uB828 \\uC815\\uBCF4 \\uC548\\uB0B4\",/*#__PURE__*/_jsx(\"br\",{}),\"3. \\uBCF4\\uC720 \\uBC0F \\uC774\\uC6A9\\uAE30\\uAC04: \\uC0AC\\uC804\\uC608\\uC57D \\uC11C\\uBE44\\uC2A4 \\uC885\\uB8CC \\uC2DC\\uAE4C\\uC9C0\",/*#__PURE__*/_jsx(\"br\",{}),\"4. \\uB3D9\\uC758\\uB97C \\uAC70\\uBD80\\uD560 \\uAD8C\\uB9AC: \\uAC1C\\uC778\\uC815\\uBCF4 \\uC218\\uC9D1 \\uBC0F \\uC774\\uC6A9\\uC5D0 \\uB300\\uD55C \\uB3D9\\uC758\\uB97C \\uAC70\\uBD80\\uD560 \\uC218 \\uC788\\uC73C\\uBA70, \\uAC70\\uBD80 \\uC2DC \\uC0AC\\uC804\\uC608\\uC57D \\uC11C\\uBE44\\uC2A4 \\uC774\\uC6A9\\uC774 \\uC81C\\uD55C\\uB420 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]})]})]});}export default PreRegistrationForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","PreRegistrationForm","email","setEmail","phone","setPhone","privacyConsent","setPrivacyConsent","handlePhoneChange","e","value","target","replace","length","handleSubmit","preventDefault","alert","response","fetch","method","headers","body","JSON","stringify","privacy_consent","ok","data","json","message","Date","created_at","toLocaleString","errorData","detail","error","console","onSubmit","className","children","type","onChange","placeholder","required","pattern","id","checked","htmlFor"],"sources":["/home/work/reservation/front/src/PreRegistrationForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './PreRegistrationForm.css';\n\nfunction PreRegistrationForm() {\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [privacyConsent, setPrivacyConsent] = useState(false);\n\n  const handlePhoneChange = (e) => {\n    const value = e.target.value.replace(/[^\\d]/g, '');\n    if (value.length <= 11) {\n      setPhone(value);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!privacyConsent) {\n      alert('개인정보 수집 및 이용에 동의해주세요.');\n      return;\n    }\n    if (phone.length !== 11) {\n      alert('전화번호를 11자리로 입력해주세요.');\n      return;\n    }\n\n    try {\n      const response = await fetch('http://localhost:8000/api/preregister', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, phone, privacy_consent: privacyConsent }),\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        alert(`${data.message} 등록 시간: ${new Date(data.created_at).toLocaleString()}`);\n        setEmail('');\n        setPhone('');\n        setPrivacyConsent(false);\n      } else {\n        const errorData = await response.json();\n        alert(`오류: ${errorData.detail}`);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('사전 등록 중 오류가 발생했습니다.');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"pre-registration-form\">\n      <input\n        type=\"email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        placeholder=\"이메일 주소를 입력하세요\"\n        required\n      />\n      <input\n        type=\"tel\"\n        value={phone}\n        onChange={handlePhoneChange}\n        placeholder=\"전화번호를 입력하세요 (숫자 11자리)\"\n        pattern=\"[0-9]{11}\"\n        required\n      />\n      <button type=\"submit\">사전등록</button>\n      \n      <div className=\"privacy-agreement\">\n        <input \n          type=\"checkbox\" \n          id=\"privacyConsent\" \n          checked={privacyConsent}\n          onChange={(e) => setPrivacyConsent(e.target.checked)}\n          required \n        />\n        <label htmlFor=\"privacyConsent\">개인정보 수집 및 이용에 동의합니다.</label>\n      </div>\n      \n      <div className=\"privacy-policy\">\n        <h4>개인정보 처리방침</h4>\n        <p>\n          1. 수집하는 개인정보 항목: 이메일 주소, 전화번호\n          <br />\n          2. 수집 및 이용목적: 게임 사전예약 및 관련 정보 안내\n          <br />\n          3. 보유 및 이용기간: 사전예약 서비스 종료 시까지\n          <br />\n          4. 동의를 거부할 권리: 개인정보 수집 및 이용에 대한 동의를 거부할 수 있으며, \n             거부 시 사전예약 서비스 이용이 제한될 수 있습니다.\n        </p>\n      </div>\n    </form>\n  );\n}\n\nexport default PreRegistrationForm;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnC,QAAS,CAAAC,mBAAmBA,CAAA,CAAG,CAC7B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,cAAc,CAAEC,iBAAiB,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAE3D,KAAM,CAAAY,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAAC,KAAK,CAAGD,CAAC,CAACE,MAAM,CAACD,KAAK,CAACE,OAAO,CAAC,QAAQ,CAAE,EAAE,CAAC,CAClD,GAAIF,KAAK,CAACG,MAAM,EAAI,EAAE,CAAE,CACtBR,QAAQ,CAACK,KAAK,CAAC,CACjB,CACF,CAAC,CAED,KAAM,CAAAI,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB,GAAI,CAACT,cAAc,CAAE,CACnBU,KAAK,CAAC,uBAAuB,CAAC,CAC9B,OACF,CACA,GAAIZ,KAAK,CAACS,MAAM,GAAK,EAAE,CAAE,CACvBG,KAAK,CAAC,qBAAqB,CAAC,CAC5B,OACF,CAEA,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,uCAAuC,CAAE,CACpEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAErB,KAAK,CAAEE,KAAK,CAAEoB,eAAe,CAAElB,cAAe,CAAC,CACxE,CAAC,CAAC,CAEF,GAAIW,QAAQ,CAACQ,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAClCX,KAAK,CAAC,GAAGU,IAAI,CAACE,OAAO,WAAW,GAAI,CAAAC,IAAI,CAACH,IAAI,CAACI,UAAU,CAAC,CAACC,cAAc,CAAC,CAAC,EAAE,CAAC,CAC7E5B,QAAQ,CAAC,EAAE,CAAC,CACZE,QAAQ,CAAC,EAAE,CAAC,CACZE,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CAAC,IAAM,CACL,KAAM,CAAAyB,SAAS,CAAG,KAAM,CAAAf,QAAQ,CAACU,IAAI,CAAC,CAAC,CACvCX,KAAK,CAAC,OAAOgB,SAAS,CAACC,MAAM,EAAE,CAAC,CAClC,CACF,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9BlB,KAAK,CAAC,qBAAqB,CAAC,CAC9B,CACF,CAAC,CAED,mBACEhB,KAAA,SAAMoC,QAAQ,CAAEtB,YAAa,CAACuB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAC7DxC,IAAA,UACEyC,IAAI,CAAC,OAAO,CACZ7B,KAAK,CAAER,KAAM,CACbsC,QAAQ,CAAG/B,CAAC,EAAKN,QAAQ,CAACM,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE,CAC1C+B,WAAW,CAAC,sEAAe,CAC3BC,QAAQ,MACT,CAAC,cACF5C,IAAA,UACEyC,IAAI,CAAC,KAAK,CACV7B,KAAK,CAAEN,KAAM,CACboC,QAAQ,CAAEhC,iBAAkB,CAC5BiC,WAAW,CAAC,6FAAuB,CACnCE,OAAO,CAAC,WAAW,CACnBD,QAAQ,MACT,CAAC,cACF5C,IAAA,WAAQyC,IAAI,CAAC,QAAQ,CAAAD,QAAA,CAAC,0BAAI,CAAQ,CAAC,cAEnCtC,KAAA,QAAKqC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCxC,IAAA,UACEyC,IAAI,CAAC,UAAU,CACfK,EAAE,CAAC,gBAAgB,CACnBC,OAAO,CAAEvC,cAAe,CACxBkC,QAAQ,CAAG/B,CAAC,EAAKF,iBAAiB,CAACE,CAAC,CAACE,MAAM,CAACkC,OAAO,CAAE,CACrDH,QAAQ,MACT,CAAC,cACF5C,IAAA,UAAOgD,OAAO,CAAC,gBAAgB,CAAAR,QAAA,CAAC,iGAAoB,CAAO,CAAC,EACzD,CAAC,cAENtC,KAAA,QAAKqC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BxC,IAAA,OAAAwC,QAAA,CAAI,mDAAS,CAAI,CAAC,cAClBtC,KAAA,MAAAsC,QAAA,EAAG,8HAED,cAAAxC,IAAA,QAAK,CAAC,uIAEN,cAAAA,IAAA,QAAK,CAAC,+HAEN,cAAAA,IAAA,QAAK,CAAC,8UAGR,EAAG,CAAC,EACD,CAAC,EACF,CAAC,CAEX,CAEA,cAAe,CAAAG,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}